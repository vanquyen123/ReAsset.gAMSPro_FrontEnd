<div [@routerTransition]>
  <appToolbar_re #appToolbar></appToolbar_re>
  <div class="m-subheader">
      <div class="row align-items-center">
          <div class="mr-auto col-auto">
              <!-- Begin Title -->
              <a [routerLink]="rootPage()" class="m-subheader__title m-subheader__title--separator link-to-list-page home-page">
                  <span>{{l("HomePage")}}</span>
              </a>
              <h3 (click)="goBack()" class="m-subheader__title m-subheader__title--separator link-to-list-page">
                  <span>Danh sách dự án</span>
              </h3>
              <span [ngSwitch]="editPageState" class="m-section__sub">
                  <span *ngSwitchCase="EditPageState.add">{{l("Toolbar_Create")}}</span>
                  <span *ngSwitchCase="EditPageState.edit">{{l("Toolbar_Update")}}</span>
                  <span *ngSwitchCase="EditPageState.viewDetail">{{l("Toolbar_ViewDetail")}}</span>
              </span>
              <!-- End Title -->
          </div>
          <div class="col text-right mt-3 mt-md-0">
          </div>
      </div>
  </div>

  <div id="content" class="m-content">
      <div class="m-portlet m-portlet--mobile">
          <div class="m-portlet__body">
              <!-- Begin Form -->
              <form #editForm="ngForm" id="editForm" novalidate (ngSubmit)="saveInput()" autocomplete="off">
                  <div class="modal-body row">
                      <div class="col-md-12 align-right">
                          <div class="form-group">
                              <auth-status-2-input-page [authStatus]="inputModel.autH_STATUS"></auth-status-2-input-page>
                          </div>
                      </div>
                      <div class="col-md-12" *ngIf="inputModel.autH_STATUS == 'R' && (editPageState == 'Edit' || editPageState == 'ViewDetail')">
                        <div class="row">
                            <div class="col-md-12">
                                <h4>NỘI DUNG TRẢ VỀ</h4>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Người trả về</label>
                                    <input disabled class="form-control" name="checkeR_NAME" type="text" [(ngModel)]="inputModel.checkeR_NAME">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label>Lý do trả về</label>
                                    <textarea disabled class="form-control" name="rejecT_REASON" type="text" [(ngModel)]="inputModel.rejecT_REASON"></textarea>
                                </div>
                              </div>
                        </div>
                      </div>
                      <div class="col-md-12" *ngIf="inputModel.autH_STATUS == 'C' && (editPageState == 'Edit' || editPageState == 'ViewDetail')">
                        <div class="row">
                            <div class="col-md-12">
                                <h4>NỘI DUNG HỦY</h4>
                            </div>
      
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Người hủy</label>
                                    <input disabled class="form-control" name="checkeR_NAME" type="text" [(ngModel)]="inputModel.checkeR_NAME">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label>Lý do hủy</label>
                                    <textarea disabled class="form-control" name="rejecT_REASON" type="text" [(ngModel)]="inputModel.rejecT_REASON"></textarea>
                                </div>
                              </div>
                        </div>
                      </div>
                      <div class="col-md-12">
                          <div class="row">
                            <div class="col-md-12">
                              <h3>THÔNG TIN CHUNG</h3>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                  <label>Người tạo</label>
                                  <input disabled class="form-control" type="text" #makeR_NAME="ngModel" name="makeR_NAME" [(ngModel)]="inputModel.makeR_NAME">
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Ngày tạo</label>
                                <date-control
                                [disabled] = "true"
                                #creatE_DT="ngModel"
                                name="creatE_DT"
                                [(ngModel)]="inputModel.creatE_DT"
                                autoFocus>
                                </date-control>
                              </div>
                            </div>
                            <div class="col-md-12">
                              <h4>THÔNG TIN DỰ ÁN</h4>
                            </div>

                            <div class="col-md-4" [hidden]="!(inputModel.projecT_TYPE != 'RL')">
                              <div class="form-group">
                                  <label>Mã dự án</label>
                                  <input disabled class="form-control" type="text" #projecT_ID="ngModel" name="projecT_ID" [(ngModel)]="inputModel.id">
                              </div>
                            </div>
                            <div class="col-md-4" [hidden]="!(inputModel.projecT_TYPE == 'RL')">
                              <div class="form-group required">
                                  <label>Mã dự án</label>
                                  <div class="input-group">
                                      <input [readOnly]="true" class="form-control" required name="projecT_ID" #projecT_ID="ngModel" [(ngModel)]="inputModel.id" />
                                      <button type="button" class="btn btn-primary" (click)="reaModal.show()">...</button>
                                  </div>
                                  <div class="error-message" *ngIf="projecT_ID.invalid && isShowError">
                                      <span *ngIf="projecT_ID?.errors.required">Mã dự án
                                          {{l("ValidationRequired")}}</span>
                                  </div>
                              </div>
                            </div>
                            <div class="col-md-8"></div>
                            <div class="col-md-8">
                              <div class="form-group required">
                                  <label>Tên dự án</label>
                                  <input required [disabled]="disableInput" class="form-control" type="text" #projecT_NAME="ngModel" name="projecT_NAME" [(ngModel)]="inputModel.projecT_NAME">
                                  <div class="error-message" *ngIf="projecT_NAME.invalid && isShowError">
                                      <span *ngIf="projecT_NAME?.errors.required">Tên dự án
                                          {{l("ValidationRequired")}}</span>
                                  </div>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group required">
                                  <label>Loại dự án</label>
                                  <select2-custom (onChangeSelect2)="onSelectProjectType($event)"
                                    class="transparent"
                                    [disabled]="disableInput"
                                    required
                                    #projecT_TYPE="ngModel"
                                    name="projecT_TYPE"
                                    [(ngModel)]="inputModel.projecT_TYPE"
                                    [(list)]="projectTypeList"
                                    [valueMember]="'cdval'"
                                    [displayMember]="'content'"
                                    >
                                  </select2-custom>
                              </div>
                            </div>
                            <div class="col-md-4" [hidden]="!(inputModel.projecT_TYPE != 'RL')">
                              <div class="form-group required">
                                  <label>Tỉnh thành</label>
                                  <select2-custom (onChangeSelect2)="onSelect($event)"
                                    class="transparent"
                                    [disabled]="disableInput"
                                    required
                                    #provincE_ID="ngModel"
                                    name="provincE_ID"
                                    [(ngModel)]="inputModel.provincE_ID"
                                    [(list)]="provinceList"
                                    [valueMember]="'id'"
                                    [displayMember]="'name'"
                                    >
                                  </select2-custom>
                                  <div class="error-message" *ngIf="provincE_ID.invalid && isShowError">
                                    <span *ngIf="provincE_ID?.errors.required">Tỉnh thành
                                        {{l("ValidationRequired")}}</span>
                                  </div>
                              </div>
                            </div>
                            <div class="col-md-4" [hidden]="!(inputModel.projecT_TYPE != 'RL')">
                              <div class="form-group">
                                  <label>Tiến độ hoàn thành</label>
                                  <select2-custom (onChangeSelect2)="onSelect($event)"
                                    class="transparent"
                                    [disabled]="disableInput"
                                    #projecT_COMPLETE_STATUS="ngModel"
                                    name="projecT_COMPLETE_STATUS"
                                    [(ngModel)]="inputModel.projecT_COMPLETE_STATUS"
                                    [(list)]="projectCompleteStatus"
                                    [valueMember]="'cdval'"
                                    [displayMember]="'content'"
                                    >
                                  </select2-custom>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                  <label>Quy mô (m2)</label>
                                  <input [disabled]="disableInput" class="form-control" type="text" #projecT_SCALE="ngModel" name="projecT_SCALE" [(ngModel)]="inputModel.projecT_SCALE">
                              </div>
                            </div>
                            <div class="col-md-4" [hidden]="!(inputModel.projecT_TYPE == 'RL')">
                              <div class="form-group">
                                  <label>Chủ sở hữu</label>
                                  <select2-custom (onChangeSelect2)="onSelect($event)"
                                    class="transparent"
                                    [disabled]="disableInput"
                                    #investoR_ID="ngModel"
                                    name="investoR_ID"
                                    [(ngModel)]="inputModel.investoR_ID"
                                    [(list)]="investorList"
                                    [valueMember]="'id'"
                                    [displayMember]="'name'"
                                    >
                                  </select2-custom>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                  <label>Địa điểm</label>
                                  <input [disabled]="disableInput" class="form-control" type="text" #projecT_LOCATION="ngModel" name="projecT_LOCATION" [(ngModel)]="inputModel.projecT_LOCATION">
                              </div>
                            </div>
                            <div class="col-md-4" [hidden]="!(inputModel.projecT_TYPE != 'RL')">
                              <div class="form-group">
                                  <label>Chủ đầu tư</label>
                                  <select2-custom (onChangeSelect2)="onSelect($event)"
                                    class="transparent"
                                    [disabled]="disableInput"
                                    #investoR_ID="ngModel"
                                    name="investoR_ID"
                                    [(ngModel)]="inputModel.investoR_ID"
                                    [(list)]="investorList"
                                    [valueMember]="'id'"
                                    [displayMember]="'name'"
                                    >
                                  </select2-custom>
                              </div>
                            </div>
                            <div class="col-md-4" [hidden]="!(inputModel.projecT_TYPE == 'TM')">
                              <div class="form-group">
                                  <label>Đơn vị quản lý mua</label>
                                  <input [disabled]="disableInput" class="form-control" type="text" #projecT_SALE_MANAGEMENT_PARTY="ngModel" name="projecT_SALE_MANAGEMENT_PARTY" [(ngModel)]="inputModel.projecT_SALE_MANAGEMENT_PARTY">
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                  <label>Hình ảnh đính kèm</label>
                                  <div class="file-input-group file-group">
                                    <input class="form-control" readonly type="text" [(ngModel)]="uploadedFile.filE_NAME" name="attacheD_IMAGE" />
                                    <input class="form-control" hidden type="file" #attachFile (change)="onUploadImage($event)" accept="image/x-png,image/gif,image/jpeg" />
                                    <button style="margin:0px !important;" *ngIf="!uploadedFile.filE_NAME" type="button" class="btn btn-primary" [disabled]="disableInput" (click)="selectFile()"><i class="fa fa-plus mx-auto"></i></button>
                                    <button *ngIf="uploadedFile.filE_NAME" type="button" class="btn btn-primary" [disabled]="disableInput" (click)="selectFile()"><i class="fa fa-pen"></i></button>
                                    <button style="margin:0px !important;" *ngIf="uploadedFile.filE_NAME" type="button" class="btn btn-danger" [disabled]="disableInput" (click)="removeFile()"><i class="fa fa-eraser"></i></button>
                                  </div>
                              </div>
                            </div>
                            <div class="col-md-4" [hidden]="!(inputModel.projecT_TYPE == 'TM')">
                              <div class="form-group">
                                  <label>Tổng diện tích đã mua</label>
                                  <input disabled class="form-control" type="text">
                              </div>
                            </div>
                            <div class="col-md-8">
                              <div class="form-group">
                                  <label>{{l("Note")}}</label>
                                  <textarea class="form-control" [disabled]="disableInput" type="text" #notes="ngModel" name="notes" [(ngModel)]="inputModel.notes"></textarea>
                              </div>
                            </div>
                          </div>
                      </div>

                      <!-- Du an dau tu -->
                      <div class="col-md-12" [hidden]="!(inputModel.projecT_TYPE == 'DT')">
                        <div class="row">
                          <div class="col-md-12 mt-3">
                            <h4>HÌNH THỨC HỢP TÁC SỞ HỮU DỰ ÁN</h4>
                          </div>
                          <div class="col-md-12 mt-3">
                            <h5>Cơ cấu sở hữu</h5>
                          </div>
                          <div class="action-button col-md-12">
                            <button type="button" [disabled]="disableInput" class="btn btn-primary" (click)="addNewOwnStructure()"><i class="pi pi-plus"></i>{{l("Add")}}</button>
                            <button type="button" [disabled]="disableInput" class="btn btn-danger" (click)="removeOwnStructure()"><i
                                    class="pi pi-times"></i>{{l("Delete")}}</button>
                          </div>
                          <div class="primeng-datatable-container col-md-12">
                            <editable-table #ownStructureEditTable class="custom-table ui-table">
                                <thead>
                                    <tr>
      
                                        <th>
                                            <span style="width: 40px">
                                                <checkbox-control [disabled]="disableInput" (onchange)="checkAllOwnStructure($event.target.checked)" [checked]="ownStructureEditTable.isCheckAll"></checkbox-control>
                                            </span>
                                        </th>
                                        <th><span style="width: 40px">{{l("No")}}</span></th>
      
                                        <th><span style="width: 150px">Công ty</span></th>
                                        <th style="width:50%"><span style="width: 150px">Cổ đông</span></th>
                                        <th style="width:50%" ><span style="width: 150px">Số lượng cổ phần</span></th>
                                        <th><span style="width: 150px">Giá trị mệnh giá/Vốn góp</span></th>
                                        <th><span style="width: 150px">Tỷ lệ sở hữu</span></th>
                                        
                                    </tr>
      
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of ownStructureEditTable.dataInPage" #editRow ng-form [hidden]="item.page != ownStructureEditTable.currentPage">
      
                                        <td class="center">
                                            <span class="mo-header"></span>
                                            <checkbox-control [disabled]="disableInput" (onchange)="checkedOwnStructure(item, $event.target.checked)" [checked]="item['isChecked']"></checkbox-control>
                                        </td>
      
                                        <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <select2-custom (onChangeSelect2)="onSelect($event)"
                                            class="transparent m-input"
                                            [disabled]="disableInput"
                                            #owN_COMPANY_ID="ngModel"
                                            name="owN_COMPANY_ID{{item.no}}"
                                            [(ngModel)]="item.owN_COMPANY_ID"
                                            [(list)]="investorList"
                                            [valueMember]="'id'"
                                            [displayMember]="'name'"
                                            >
                                          </select2-custom> 
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <select2-custom (onChangeSelect2)="onSelect($event)"
                                            class="transparent m-input"
                                            [disabled]="disableInput"
                                            #shareholdeR_ID="ngModel"
                                            name="shareholdeR_ID{{item.no}}"
                                            [(ngModel)]="item.shareholdeR_ID"
                                            [(list)]="shareholderList"
                                            [valueMember]="'id'"
                                            [displayMember]="'name'"
                                            >
                                          </select2-custom> 
                                        </td>
                                        
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="owN_STRUCTURE_SHARES{{item.no}}" class="form-control m-input" [(ngModel)]="item.owN_STRUCTURE_SHARES">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="owN_STRUCTURE_SHARE_VALUE{{item.no}}" class="form-control m-input" [(ngModel)]="item.owN_STRUCTURE_SHARE_VALUE">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input disabled name="owN_RATIO{{item.no}}" class="form-control m-input" [(ngModel)]="item.owN_RATIO">
                                        </td>
                                    </tr>
                                </tbody>
                            </editable-table>
                          </div>

                          <div class="col-md-12 mt-3">
                            <h5>Cơ cấu hợp tác</h5>
                          </div>
                          <div class="action-button col-md-12">
                            <button type="button" [disabled]="disableInput" class="btn btn-primary" (click)="addNewCooperateStructure()"><i class="pi pi-plus"></i>{{l("Add")}}</button>
                            <button type="button" [disabled]="disableInput" class="btn btn-danger" (click)="removeCooperateStructure()"><i
                                    class="pi pi-times"></i>{{l("Delete")}}</button>
                          </div>
                          <div class="primeng-datatable-container col-md-12">
                            <editable-table #cooperateStructureEditTable class="custom-table ui-table">
                                <thead>
                                    <tr>
      
                                        <th>
                                            <span style="width: 40px">
                                                <checkbox-control [disabled]="disableInput" (onchange)="checkAllCooperateStructure($event.target.checked)" [checked]="cooperateStructureEditTable.isCheckAll"></checkbox-control>
                                            </span>
                                        </th>
                                        <th><span style="width: 40px">{{l("No")}}</span></th>
      
                                        <th><span style="width: 150px">Loại đơn vị</span></th>
                                        <th style="width:50%"><span style="width: 250px">Đơn vị thành viên tham gia dự án</span></th>
                                        <th style="width:50%" ><span style="width: 150px">Phương thức hợp tác</span></th>
                                        <th><span style="width: 150px">Tỷ lệ sở hữu/ Tỷ lệ lợi ích</span></th>
                                    </tr>
      
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of cooperateStructureEditTable.dataInPage" #editRow ng-form [hidden]="item.page != cooperateStructureEditTable.currentPage">
      
                                        <td class="center">
                                            <span class="mo-header"></span>
                                            <checkbox-control [disabled]="disableInput" (onchange)="checkedCooperateStructure(item, $event.target.checked)" [checked]="item['isChecked']"></checkbox-control>
                                        </td>
      
                                        <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <select2-custom (onChangeSelect2)="onSelectEntityType($event)"
                                            class="transparent m-input"
                                            [disabled]="disableInput"
                                            #entitY_TYPE="ngModel"
                                            name="entitY_TYPE{{item.no}}"
                                            [(ngModel)]="item.entitY_TYPE"
                                            [(list)]="entityTypeList"
                                            [valueMember]="'cdval'"
                                            [displayMember]="'content'"
                                            >
                                          </select2-custom> 
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <select2-custom (onChangeSelect2)="onSelect($event)"
                                            class="transparent m-input"
                                            [disabled]="disableInput"
                                            #entitY_ID="ngModel"
                                            name="entitY_ID{{item.no}}"
                                            [(ngModel)]="item.entitY_ID"
                                            [(list)]="(item.entitY_TYPE == 'CT')? investorList : (item.entitY_TYPE == 'NV')? employeeList: partnerList"
                                            [valueMember]="'id'"
                                            [displayMember]="'name'"
                                            >
                                          </select2-custom> 
                                        </td>
                                        
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="cooperatE_STRUCTURE_METHOD{{item.no}}" class="form-control m-input" [(ngModel)]="item.cooperatE_STRUCTURE_METHOD">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="cooperatE_STRUCTURE_OWN_RATE{{item.no}}" class="form-control m-input" [(ngModel)]="item.cooperatE_STRUCTURE_OWN_RATE">
                                        </td>
                                    </tr>
                                </tbody>
                            </editable-table>
                          </div>
                          
                        </div>
                      </div>

                      <!-- Bat dong san rieng le -->
                      <div class="col-md-12" [hidden]="!(inputModel.projecT_TYPE == 'RL')">
                        <div class="row">
                          <div class="col-md-12 mt-3">
                            <h4>TÌNH TRẠNG SỞ HỮU & PHÁP LÝ</h4>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Loại chủ sở hữu</label>
                                <select2-custom (onChangeSelect2)="onSelect($event)"
                                  class="transparent"
                                  [disabled]="disableInput"
                                  [(ngModel)]="inputModel.legaL_STATUS.owneR_TYPE"
                                  name="owneR_TYPE"
                                  [(list)]="ownerTypeList"
                                  [valueMember]="'cdval'"
                                  [displayMember]="'content'"
                                  >
                                </select2-custom>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Tên chủ sở hữu</label>
                                <select2-custom (onChangeSelect2)="onSelect($event)"
                                  class="transparent"
                                  [disabled]="disableInput"
                                  [(ngModel)]="inputModel.legaL_STATUS.owneR_ID"
                                  name="investoR_ID"
                                  [(list)]="(inputModel.legaL_STATUS.owneR_TYPE == 'TC')? investorList : employeeList"
                                  [valueMember]="'id'"
                                  [displayMember]="'name'"
                                  >
                                </select2-custom>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Pháp lý</label>
                                <input [disabled]="disableInput" class="form-control" type="text" name="projecT_SCALE">
                            </div>
                          </div>

                        </div>
                      </div>

                      <!-- Du an thu mua & du an dau tu -->
                      <div class="col-md-12" [hidden]="!(inputModel.projecT_TYPE=='TM' || inputModel.projecT_TYPE=='DT')">
                        <div class="row">
                          <div class="col-md-12 mt-3">
                            <h4>TÀI SẢN TRÊN ĐẤT</h4>
                          </div>
                          <div class="action-button col-md-12">
                            <button type="button" [disabled]="disableInput" class="btn btn-primary" (click)="addNewProperty()"><i class="pi pi-plus"></i>{{l("Add")}}</button>
                            <button type="button" [disabled]="disableInput" class="btn btn-danger" (click)="removeProperty()"><i
                                    class="pi pi-times"></i>{{l("Delete")}}</button>
                          </div>
                          <div class="primeng-datatable-container col-md-12">
                            <editable-table #propertyEditTable class="custom-table ui-table">
                                <thead>
                                    <tr>
      
                                        <th>
                                            <span style="width: 40px">
                                                <checkbox-control [disabled]="disableInput" (onchange)="checkAllProperty($event.target.checked)" [checked]="propertyEditTable.isCheckAll"></checkbox-control>
                                            </span>
                                        </th>
                                        <th><span style="width: 40px">{{l("No")}}</span></th>
      
                                        <th><span style="width: 150px">Tên tài sản</span></th>
                                        <th style="width:50%"><span style="width: 150px">Thông tin mô tả</span></th>
                                        <th><span style="width: 150px">Diện tích</span></th>
                                        <th><span style="width: 150px">Khu đất</span></th>
                                        <th><span style="width: 150px">{{l("Note")}}</span></th>
                                        
                                    </tr>
      
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of propertyEditTable.dataInPage" #editRow ng-form [hidden]="item.page != propertyEditTable.currentPage">
      
                                        <td class="center">
                                            <span class="mo-header"></span>
                                            <checkbox-control [disabled]="disableInput" (onchange)="checkedProperty(item, $event.target.checked)" [checked]="item['isChecked']"></checkbox-control>
                                        </td>
      
                                        <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="projecT_PROP_NAME{{item.no}}" class="form-control m-input" [(ngModel)]="item.projecT_PROP_NAME">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="projecT_PROP_DESCRIPTION{{item.no}}" class="form-control m-input" [(ngModel)]="item.projecT_PROP_DESCRIPTION">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="projecT_PROP_AREA{{item.no}}" class="form-control m-input" [(ngModel)]="item.projecT_PROP_AREA">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <select2-custom (onChangeSelect2)="onSelect($event)"
                                            class="transparent m-input"
                                            [disabled]="disableInput"
                                            #areA_ID="ngModel"
                                            name="areA_ID{{item.no}}"
                                            [(ngModel)]="item.areA_ID"
                                            [(list)]="landAreaList"
                                            [valueMember]="'id'"
                                            [displayMember]="'name'"
                                            >
                                          </select2-custom> 
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="notes{{item.no}}" class="form-control m-input" [(ngModel)]="item.notes">
                                        </td>
                                    </tr>
                                </tbody>
                            </editable-table>
                          </div>

                          <div class="col-md-12 mt-3">
                            <h4>KHAI THÁC TÀI SẢN TRÊN ĐẤT</h4>
                          </div>
                          <div class="action-button col-md-12">
                            <button type="button" [disabled]="disableInput" class="btn btn-primary" (click)="addNewExploitation()"><i class="pi pi-plus"></i>{{l("Add")}}</button>
                            <button type="button" [disabled]="disableInput" class="btn btn-danger" (click)="removeExploitation()"><i
                                    class="pi pi-times"></i>{{l("Delete")}}</button>
                          </div>
                          <div class="primeng-datatable-container col-md-12">
                            <editable-table #exploitationEditTable class="custom-table ui-table">
                                <thead>
                                    <tr>
      
                                        <th>
                                            <span style="width: 40px">
                                                <checkbox-control [disabled]="disableInput" (onchange)="checkAllExploitation($event.target.checked)" [checked]="exploitationEditTable.isCheckAll"></checkbox-control>
                                            </span>
                                        </th>
                                        <th><span style="width: 40px">{{l("No")}}</span></th>
      
                                        <th style="width:50%"><span style="width: 250px">Đơn vị cá nhân khai thác sử dụng</span></th>
                                        <th style="width:50%"><span style="width: 150px">Số hợp đồng</span></th>
                                        <th style="width:50%" ><span style="width: 150px">Tên hợp đồng</span></th>
                                        <th><span style="width: 150px">Ngày ký hợp đồng</span></th>
                                        <th><span style="width: 150px">Ngày hết hạn hợp đồng</span></th>
                                        <th><span style="width: 150px">Diện tích sử dụng</span></th>
                                        <th><span style="width: 150px">Mục đích khai thác</span></th>
                                        <th><span style="width: 150px">Khu đất</span></th>
                                        <th><span style="width: 150px">Doanh thu năm</span></th>
                                        <th><span style="width: 150px">Hình ảnh đính kèm</span></th>
                                        <th><span style="width: 150px">{{l("Note")}}</span></th>
                                        
                                    </tr>
      
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of exploitationEditTable.dataInPage" #editRow ng-form [hidden]="item.page != exploitationEditTable.currentPage">
      
                                        <td class="center">
                                            <span class="mo-header"></span>
                                            <checkbox-control [disabled]="disableInput" (onchange)="checkedExploitation(item, $event.target.checked)" [checked]="item['isChecked']"></checkbox-control>
                                        </td>
      
                                        <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="exP_PARTY{{item.no}}" class="form-control m-input" [(ngModel)]="item.exP_PARTY">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="exP_CONTRACT_NO{{item.no}}" class="form-control m-input" [(ngModel)]="item.exP_CONTRACT_NO">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="exP_CONTRACT_NAME{{item.no}}" class="form-control m-input" [(ngModel)]="item.exP_CONTRACT_NAME">
                                        </td>
                                        <td class="center">
                                          <span class="mo-header"></span>
                                          <date-control 
                                          [disabled]="disableInput"
                                          name="exP_CONTRACT_SIGN_DT{{item.no}}"
                                          [(ngModel)]="item.exP_CONTRACT_SIGN_DT"
                                          autoFocus>
                                          </date-control>
                                        </td>
                                        <td class="center">
                                          <span class="mo-header"></span>
                                          <date-control 
                                          [disabled]="disableInput"
                                          name="exP_CONTACT_EXPIRE_DT{{item.no}}"
                                          [(ngModel)]="item.exP_CONTACT_EXPIRE_DT"
                                          autoFocus>
                                          </date-control>
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="exP_USE_AREA{{item.no}}" class="form-control m-input" [(ngModel)]="item.exP_USE_AREA">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="exP_USE_PURPOSE{{item.no}}" class="form-control m-input" [(ngModel)]="item.exP_USE_PURPOSE">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <select2-custom (onChangeSelect2)="onSelect($event)"
                                            class="transparent m-input"
                                            [disabled]="disableInput"
                                            #areA_ID="ngModel"
                                            name="areA_ID{{item.no}}"
                                            [(ngModel)]="item.areA_ID"
                                            [(list)]="landAreaList"
                                            [valueMember]="'id'"
                                            [displayMember]="'name'"
                                            >
                                          </select2-custom> 
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="exP_REVENUE_PER_YEAR{{item.no}}" class="form-control m-input" [(ngModel)]="item.exP_REVENUE_PER_YEAR">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <file-selector 
                                          [disabled]="disableInput"
                                          [uploadedFile]="item.attacheD_IMAGE"
                                          (uploadFileEvent)="uploadFile($event, item)"
                                          (removeFileEvent)="removeFile($event, item)"></file-selector>
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="notes{{item.no}}" class="form-control m-input" [(ngModel)]="item.notes">
                                        </td>
                                    </tr>
                                </tbody>
                            </editable-table>
                          </div>

                          <div class="col-md-12 mt-3">
                            <h4>TÌNH TRẠNG PHÁP LÝ</h4>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Pháp lý đầu tư</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_INVESTMENT="ngModel" name="legaL_STATUS_INVESTMENT" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_INVESTMENT">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Pháp lý đất</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_LAND="ngModel" name="legaL_STATUS_LAND" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_LAND">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Pháp lý quy hoạch</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_PLANNING="ngModel" name="legaL_STATUS_PLANNING" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_PLANNING">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Pháp lý xây dựng</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_CONSTRUCTION="ngModel" name="legaL_STATUS_CONSTRUCTION" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_CONSTRUCTION">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Khả năng triển khai DA</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_DEPLOY_ABILITY="ngModel" name="legaL_STATUS_DEPLOY_ABILITY" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_DEPLOY_ABILITY">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Thời gian triển khai dự kiến</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_DEPLOY_DT="ngModel" name="legaL_STATUS_DEPLOY_DT" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_DEPLOY_DT">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group required">
                                <label>Tình trạng dự án</label>
                                <select2-custom (onChangeSelect2)="onSelect($event)"
                                  class="transparent"
                                  [disabled]="disableInput"
                                  required
                                  #legaL_STATUS_PROJECT_STATUS="ngModel"
                                  name="legaL_STATUS_PROJECT_STATUS"
                                  [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_PROJECT_STATUS"
                                  [(list)]="projectStatus"
                                  [valueMember]="'cdval'"
                                  [displayMember]="'content'"
                                  >
                                </select2-custom>
                                <div class="error-message" *ngIf="legaL_STATUS_PROJECT_STATUS.invalid && isShowError">
                                  <span *ngIf="legaL_STATUS_PROJECT_STATUS?.errors.required">Tình trạng dự án
                                      {{l("ValidationRequired")}}</span>
                                </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Kế hoạch mở bán</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_SALE_PLAN="ngModel" name="legaL_STATUS_SALE_PLAN" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_SALE_PLAN">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Loại hình sản phẩm dự kiến</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_PRODUCT_TYPE="ngModel" name="legaL_STATUS_PRODUCT_TYPE" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_PRODUCT_TYPE">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Giá bán bình quân/m2 (triệu đồng)</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #legaL_STATUS_UNIT_PRICE="ngModel" name="legaL_STATUS_UNIT_PRICE" [(ngModel)]="inputModel.legaL_STATUS.legaL_STATUS_UNIT_PRICE">
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Chung -->
                      <div class="col-md-12">
                        <div class="row">
                          <div class="col-md-12 mt-3">
                            <h4>ĐỊNH GIÁ</h4>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Giá trị định giá (Tỷ đồng) (không bao gồm Tsdđ)</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #valuatioN_BEFORE_VALUE="ngModel" name="valuatioN_BEFORE_VALUE" [(ngModel)]="inputModel.valuation.valuatioN_BEFORE_VALUE">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Tiền sử dụng đất (Tỷ đồng) “giá trị đất”</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #lanD_USE_FEE="ngModel" name="lanD_USE_FEE" [(ngModel)]="inputModel.valuation.lanD_USE_FEE">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Giá trị định giá (tỷ đồng)</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #valuatioN_VALUE="ngModel" name="valuatioN_VALUE" [(ngModel)]="inputModel.valuation.valuatioN_VALUE">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                              <label>Ngày định giá</label>
                              <date-control
                              [disabled] = "disableInput"
                              #valuatioN_DT="ngModel"
                              name="valuatioN_DT"
                              [(ngModel)]="inputModel.valuation.valuatioN_DT"
                              autoFocus>
                              </date-control>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Phương pháp định giá</label>
                                <input [disabled]="disableInput" class="form-control" type="text" #valuatioN_METHOD="ngModel" name="valuatioN_METHOD" [(ngModel)]="inputModel.valuation.valuatioN_METHOD">
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label>Đơn vị định giá</label>
                                <select2-custom (onChangeSelect2)="onSelect($event)"
                                  class="transparent"
                                  [disabled]="disableInput"
                                  #valuatioN_PARTY_ID="ngModel"
                                  name="valuatioN_PARTY_ID"
                                  [(ngModel)]="inputModel.valuation.valuatioN_PARTY_ID"
                                  [(list)]="partnerList"
                                  [valueMember]="'id'"
                                  [displayMember]="'name'"
                                  >
                                </select2-custom>
                            </div>
                          </div>

                          <div class="col-md-12 mt-3">
                            <h4>TÌNH TRẠNG ĐĂNG KÝ SỬ DỤNG TÀI SẢN</h4>
                          </div>
                          <div class="action-button col-md-12">
                            <button type="button" [disabled]="disableInput" class="btn btn-primary" (click)="addNewRegistration()"><i class="pi pi-plus"></i>{{l("Add")}}</button>
                            <button type="button" [disabled]="disableInput" class="btn btn-danger" (click)="removeRegistration()"><i
                                    class="pi pi-times"></i>{{l("Delete")}}</button>
                          </div>
                          <div class="primeng-datatable-container col-md-12">
                            <editable-table #registrationEditTable class="custom-table ui-table">
                                <thead>
                                    <tr>
      
                                        <th>
                                            <span style="width: 40px">
                                                <checkbox-control [disabled]="disableInput" (onchange)="checkAllRegistration($event.target.checked)" [checked]="registrationEditTable.isCheckAll"></checkbox-control>
                                            </span>
                                        </th>
                                        <th><span style="width: 40px">{{l("No")}}</span></th>
      
                                        <th><span style="width: 150px">Đơn vị đăng ký</span></th>
                                        <th style="width:50%"><span style="width: 150px">Người đăng ký</span></th>
                                        <th style="width:50%" ><span style="width: 150px">Ngày đăng ký</span></th>
                                        <th><span style="width: 150px">Thời gian đăng ký</span></th>
                                        <th><span style="width: 150px">Ngày hết hạn giữ</span></th>
                                        <th><span style="width: 150px">Mục đích sử dụng</span></th>
                                        <th><span style="width: 150px">{{l("Note")}}</span></th>
                                        
                                    </tr>
      
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of registrationEditTable.dataInPage" #editRow ng-form [hidden]="item.page != registrationEditTable.currentPage">
      
                                        <td class="center">
                                            <span class="mo-header"></span>
                                            <checkbox-control [disabled]="disableInput" (onchange)="checkedRegistration(item, $event.target.checked)" [checked]="item['isChecked']"></checkbox-control>
                                        </td>
      
                                        <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <select2-custom (onChangeSelect2)="onSelect($event)"
                                            class="transparent m-input"
                                            [disabled]="disableInput"
                                            #departmenT_ID="ngModel"
                                            name="departmenT_ID{{item.no}}"
                                            [(ngModel)]="item.departmenT_ID"
                                            [(list)]="departmentList"
                                            [valueMember]="'id'"
                                            [displayMember]="'name'"
                                            >
                                          </select2-custom> 
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <select2-custom (onChangeSelect2)="onSelect($event)"
                                            class="transparent m-input"
                                            [disabled]="disableInput"
                                            #registoR_ID="ngModel"
                                            name="registoR_ID{{item.no}}"
                                            [(ngModel)]="item.registoR_ID"
                                            [(list)]="employeeList"
                                            [valueMember]="'id'"
                                            [displayMember]="'name'"
                                            >
                                          </select2-custom> 
                                        </td>
                                        <td class="center">
                                          <span class="mo-header"></span>
                                          <date-control 
                                          [disabled]="disableInput"
                                          name="usE_REGISTRATION_DT{{item.no}}"
                                          [(ngModel)]="item.usE_REGISTRATION_DT"
                                          autoFocus>
                                          </date-control>
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="" class="form-control m-input">
                                        </td>
                                        <td class="center">
                                          <span class="mo-header"></span>
                                          <date-control 
                                          [disabled]="disableInput"
                                          name="usE_REGISTRATION_EXPIRE_DT{{item.no}}"
                                          [(ngModel)]="item.usE_REGISTRATION_EXPIRE_DT"
                                          autoFocus>
                                          </date-control>
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="usE_REGISTRATION_USE_PUREPOSE{{item.no}}" class="form-control m-input" [(ngModel)]="item.usE_REGISTRATION_USE_PUREPOSE">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="notes{{item.no}}" class="form-control m-input" [(ngModel)]="item.notes">
                                        </td>
                                    </tr>
                                </tbody>
                            </editable-table>
                          </div>

                          <div class="col-md-12 mt-3">
                            <h4>TIẾN ĐỘ DỰ ÁN</h4>
                          </div>
                          <div class="action-button col-md-12">
                            <button type="button" [disabled]="disableInput" class="btn btn-primary" (click)="addNewProgress()"><i class="pi pi-plus"></i>{{l("Add")}}</button>
                            <button type="button" [disabled]="disableInput" class="btn btn-danger" (click)="removeProgress()"><i
                                    class="pi pi-times"></i>{{l("Delete")}}</button>
                          </div>
                          <div class="primeng-datatable-container col-md-12">
                            <editable-table #progressEditTable class="custom-table ui-table">
                                <thead>
                                    <tr>
      
                                        <th>
                                            <span style="width: 40px">
                                                <checkbox-control [disabled]="disableInput" (onchange)="checkAllProgress($event.target.checked)" [checked]="progressEditTable.isCheckAll"></checkbox-control>
                                            </span>
                                        </th>
                                        <th><span style="width: 40px">{{l("No")}}</span></th>
      
                                        <th><span style="width: 150px">Ngày</span></th>
                                        <th style="width:50%"><span style="width: 150px">Nội dung</span></th>
                                        <th><span style="width: 150px">Giá trị xây dựng dở dang</span></th>
                                        <th><span style="width: 150px">File đính kèm</span></th>
                                        <th><span style="width: 150px">{{l("Note")}}</span></th>
                                        
                                    </tr>
      
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of progressEditTable.dataInPage" #editRow ng-form [hidden]="item.page != progressEditTable.currentPage">
      
                                        <td class="center">
                                            <span class="mo-header"></span>
                                            <checkbox-control [disabled]="disableInput" (onchange)="checkedProgress(item, $event.target.checked)" [checked]="item['isChecked']"></checkbox-control>
                                        </td>
      
                                        <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                        <td class="center">
                                          <span class="mo-header"></span>
                                          <date-control 
                                          [disabled]="disableInput"
                                          name="projecT_PROGRESS_DT{{item.no}}"
                                          [(ngModel)]="item.projecT_PROGRESS_DT"
                                          autoFocus>
                                          </date-control>
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="projecT_PROGRESS_CONTENT{{item.no}}" class="form-control m-input" [(ngModel)]="item.projecT_PROGRESS_CONTENT">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="projecT_PROGRESS_ON_BUILD_VALUE{{item.no}}" class="form-control m-input" [(ngModel)]="item.projecT_PROGRESS_ON_BUILD_VALUE">
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <file-selector 
                                          [disabled]="disableInput"
                                          [uploadedFile]="item.attacheD_FILE"
                                          (uploadFileEvent)="uploadFile($event, item)"
                                          (removeFileEvent)="removeFile($event, item)"></file-selector>
                                        </td>
                                        <td>
                                          <span class="mo-header"></span>
                                          <input [disabled]="disableInput" name="notes{{item.no}}" class="form-control m-input" [(ngModel)]="item.notes">
                                        </td>
                                    </tr>
                                </tbody>
                            </editable-table>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 mt-3" [hidden]="inputModel.projecT_TYPE == 'RL'" *ngIf="sodoEditTable || landAreaEditTable">
                        <h4>TÌNH TRẠNG SỞ HỮU</h4>
                      </div>
                      <div class="col-md-12" [hidden]="inputModel.projecT_TYPE == 'RL'" *ngIf="landAreaEditTable">
                        <h5>Khu đất</h5>
                      </div>
                      <div class="primeng-datatable-container col-md-12" [hidden]="inputModel.projecT_TYPE == 'RL'" *ngIf="landAreaEditTable">
                        <editable-table #landAreaEditTable class="custom-table ui-table">
                            <thead>
                                <tr>
                                    <th><span style="width: 40px">{{l("No")}}</span></th>
                                    <th sortField="propertY_ID"><span style="width: 150px">Mã khu đất</span></th>
                                    <th style="width:50%"><span style="width: 150px">Tên khu đất</span></th>
                                    <th style="width:50%"><span style="width: 150px">Quy mô</span></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of mortgageEditTable.dataInPage" #editRow ng-form [hidden]="item.page != mortgageEditTable.currentPage">
                                    <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                    <td>
                                      <a href="/app/admin/land-area-view;landArea={{ item.id }}">
                                        <span class="mo-header"></span>{{ item.id }}
                                      </a>
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.lanD_AREA_NAME }}
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.lanD_AREA_SCALE }}
                                    </td>
                                </tr>
                            </tbody>
                        </editable-table>
                      </div>
                      <div class="col-md-12" [hidden]="inputModel.projecT_TYPE == 'RL'" *ngIf="sodoEditTable">
                        <h5>Sổ đỏ</h5>
                      </div>
                      <div class="primeng-datatable-container col-md-12" [hidden]="inputModel.projecT_TYPE == 'RL'" *ngIf="sodoEditTable">
                        <editable-table #sodoEditTable class="custom-table ui-table">
                            <thead>
                                <tr>
                                    <th><span style="width: 40px">{{l("No")}}</span></th>
                                    <th sortField="propertY_ID"><span style="width: 150px">Mã sổ</span></th>
                                    <th style="width:50%"><span style="width: 150px">Quy mô</span></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of mortgageEditTable.dataInPage" #editRow ng-form [hidden]="item.page != mortgageEditTable.currentPage">
                                    <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                    <td>
                                      <a href="/app/admin/sodo-view;sodo={{ item.id }}">
                                        <span class="mo-header"></span>{{ item.id }}
                                      </a>
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.sodO_AREA }}
                                    </td>
                                </tr>
                            </tbody>
                        </editable-table>
                      </div>
                      <div class="col-md-12 mt-3" *ngIf="mortgageEditTable">
                        <h4>TÌNH TRẠNG THẾ CHẤP</h4>
                      </div>
                      <div class="primeng-datatable-container col-md-12" *ngIf="mortgageEditTable">
                        <editable-table #mortgageEditTable class="custom-table ui-table">
                            <thead>
                                <tr>
                                    <th><span style="width: 40px">{{l("No")}}</span></th>
                                    <th sortField="propertY_ID"><span style="width: 150px">Mã TP/ Khoản vay</span></th>
                                    <th style="width:50%"><span style="width: 150px">Tên TP/ Khoản vay</span></th>
                                    <th style="width:50%"><span style="width: 150px">Kỳ hạn</span></th>
                                    <th style="width:50%"><span style="width: 150px">Ngày vay</span></th>
                                    <th style="width:50%"><span style="width: 150px">Ngày đáo hạn</span></th>
                                    <th style="width:50%"><span style="width: 150px">Đơn vị định giá</span></th>
                                    <th style="width:50%"><span style="width: 150px">Ngày định giá</span></th>
                                    <th style="width:50%"><span style="width: 150px">Tình trạng thế chấp</span></th>
                                    <th style="width:50%"><span style="width: 150px">Chia sẻ thế chấp</span></th>
                                    <th style="width:50%"><span style="width: 150px">Trạng thái</span></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of mortgageEditTable.dataInPage" #editRow ng-form [hidden]="item.page != mortgageEditTable.currentPage">
                                    <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                                    <td>
                                      <a href="/app/admin/mortgage-view;mortgage={{ item.id }}">
                                        <span class="mo-header"></span>{{ item.id }}
                                      </a>
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.mortgagE_NAME }}
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.mortgagE_TERM }}
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.mortgagE_DUE_DATE ? (item.mortgagE_DUE_DATE | momentFormat:'L') : '-'}}
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.valuatioN_PARTY_NAME }}
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.valuatioN_DT ? (item.valuatioN_DT | momentFormat:'L') : '-'}}
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.mortgagE_ITEM_STATUS_NAME }}
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.mortgagE_ITEM_IS_SHARED ? 'Có chia sẻ' : 'Không chia sẻ' }}
                                    </td>
                                    <td>
                                      <span class="mo-header"></span>{{ item.mortgagE_STATUS_NAME }}
                                    </td>
                                </tr>
                            </tbody>
                        </editable-table>
                      </div>
                  </div>
              </form>
              <!-- Begin Form -->
          </div>
      </div>
  </div>
</div>

<rea-modal #reaModal [multiple]="false" (onSelect)="onSelectRea($event)"></rea-modal>
